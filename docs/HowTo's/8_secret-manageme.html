<!-- ## Metadata_Start
## title: External secret management
## original-url : https://learn.torq.io/docs/secret-management
## article-id : ebd544f6-fc8e-4e95-a176-31630171109f
## seo-title : External vaults
## description : 
## category-type : html
## Metadata_End -->
<p>Connect Torq to the key management service (secret store) used by your organization to use externally kept secrets when creating integrations with third-party vendors in Torq. By using an external key management service, you're making sure the sensitive information is fully managed by your company and not kept in Torq. You'll also be able to manage secret rotation and revocation independently from Torq according to your organization's policies.</p><p>The external secret stores supported at this stage are:</p><ul><li>HashiCorp Vault</li><li>AWS SSM Parameter Store</li></ul><section class="infoBox"><div class="title">Note</div><div class="content">Contact your support representative if your organization is using a different secret management service that you would like to integrate with Torq.</div></section><h2>How to use</h2><ol><li>Go to <strong>Integrations</strong> &gt; <strong>Secret Management</strong>,<strong>&nbsp;</strong>select the card of the external secret store you would like to use and click <strong>Add</strong>. You can also edit an existing integration by locating it in the integration instances list, clicking the three-dot menu, and selecting <strong>Edit</strong>.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/secret%20management%20services(1).png" alt="secret management services" class="fr-dib fr-bordered"></li><li>Enter a meaningful integration name and the additional information required to create the integration. Don't create the integration before you complete step 3.<ul><li><a href="https://learn.torq.io/docs/amazon-web-services" rel="nofollow" translate="no">Create an AWS SSM Parameter Store integration</a>.<br><section class="warningBox"><div class="title">Important</div><div class="content">The AWS role associated with the integration must have the <strong>GetParameter</strong> permission.</div></section><a href="https://learn.torq.io/docs/hashicorp-vault" rel="nofollow" translate="no"></a></li><li>Select one of the integrations below according to the authentication method you prefer. Note that only key/value <span style="color: rgb(34, 34, 34); font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">secret engine V2 can be used as an external secret store.</span><ul><li><a href="https://learn.torq.io/docs/hashicorp-vault-approle" rel="nofollow" translate="no">HashiCorp Vault AppRole</a></li><li><a href="https://learn.torq.io/docs/hashicorp-vault" rel="nofollow" translate="no">HashiCorp Vault</a><span style="color: rgb(34, 34, 34); font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"></span></li></ul></li></ul></li><li>Select the <strong>Use this integration as a secret store for my account&nbsp;</strong>checkbox and click <strong>Add</strong>. For example:<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/use%20integration%20as%20secret%20store%20checkbox.png" alt="use integration as secret store checkbox" class="fr-dib fr-bordered" style="width: 1186px;"></li><li>Go back to the <strong>Integrations</strong> page and select the card of a third-party vendor you want to connect to with Torq. Click <strong>Add</strong>.</li><li>Enter the information required to create the integration. For fields that should contain sensitive information, you will have a dropdown with the secret stores available to you. Select whether you would like to provide a secret from an external secret store or provide the information to be stored in the Torq local secret store.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/provide%20secret%20from%20external%20secret%20store.png" alt="provide secret from external secret store" class="fr-dib fr-bordered"></li><li>Provide the path to the secret value:<section class="warningBox"><div class="title">Important</div><div class="content"><div class="content">Getting the path to the secret value may differ from one secret management solution to the other.</div></div></section><ul><li><a href="/v1/docs/secret-management#use-a-secret-value-stored-in-hashicorp-vault" rel="nofollow" translate="no">Use a secret value stored in HashiCorp Vault.</a></li><li><a href="/v1/docs/secret-management#use-a-secret-value-stored-in-aws-ssm-parameter-store" rel="nofollow" translate="no">Use a secret value stored in AWS SSM Parameter Store</a>.</li></ul></li><li>Click <strong>Add</strong> to create the third-party vendor integration.</li></ol><h2>Use a secret value stored in HashiCorp Vault</h2><p>To use a secret value from HashiCorp Vault in Torq, you have to provide the complete path (engine path+secret path) and the secret key.</p><ul><li>In HashiCorp Vault, go to <strong>Secrets</strong> to view the paths of the secret engines.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/HashiCorp%20Vault%20secret%20engine%20paths.png" alt="HashiCorp Vault secret engine paths" class="fr-bordered fr-dii" style="width: 1398px;"><br>For example, for the secret below, use <code>secret/test/webapp/api_key</code> to get the secret value in Torq.</li></ul><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Secret%20path%20and%20key%20HashiCorp%20Vault.png" alt="Secret path and key HashiCorp Vault" class="fr-dib fr-bordered" style="width: 848px;"></p><ul><li>Use the secret value in integration fields that require sensitive information.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Use%20a%20secret%20value%20stored%20in%20HC%20vault.png" alt="Use a secret value stored in HC vault" class="fr-dib fr-bordered"></li></ul><h2>Use a secret value stored in AWS SSM Parameter Store</h2><p>To use a secret value from AWS SSM Parameter Store in Torq, provide the region and the parameter name: <code>&lt;region&gt;/&lt;parameter name&gt;</code></p><ul><li>For example, for the parameter <code>/A/A</code> below, use <code>us-east-1/A/A</code> to get the secret value in Torq.</li></ul><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/get%20the%20AWS%20SSM%20region.png" alt="get the AWS SSM region" class="fr-dib fr-bordered"></p><ul><li>Use the secret value in integration fields that require sensitive information.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Use%20a%20secret%20value%20stored%20in%20AWS%20SSM.png" alt="Use a secret value stored in AWS SSM" class="fr-dib fr-bordered"></li></ul>
