<!-- ## Metadata_Start
## title: Global variables
## original-url : https://learn.torq.io/docs/global-variables
## article-id : a6fff7f3-2abf-4df5-bfc5-d41c4283f211
## seo-title : Global variables in Torq no-code security automation
## description : Global variables enable you to collect data from one workflow, store it, and call/use it in other workflow executions (data store).
## category-type : html
## Metadata_End -->
<p>Global variables enable you to collect data from one workflow, store it, and call/use it in other workflow executions. This allows you to maintain a readily available data store (datasets).</p><h2>When to use</h2><p>Some common use cases for using a global variable to store data include:</p><ul><li>Pass event data to another workflow. For example, whether a certain task was successful or not.</li><li>Keep a cache list. For example, a list of IPs checked by a threat intel service in the last 24 hours.</li><li>Update a flag on a task that is waiting to be completed and check it periodically.</li></ul><h2>Usage example: IOC enrichment caching</h2><p>You can use global variables to maintain a cache of IOC (indicator of compromise) enrichment results. When a new IOC is detected, check whether it was already recently enriched before going through the enrichment process.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/IOC_enrichment_caching_workflow.png" alt="IOC enrichment caching workflow" class="fr-dib fr-bordered" style="width: 448px;"></p><p>Use the <strong>Get a variable</strong> step to retrieve the variable that would contain the enrichment result.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Check_cache_for_info.png" alt="Check cache for data" class="fr-dib fr-bordered" style="width: 868px;"></p><p>If the retrieval is unsuccessful, enrich the IOC and save the result in a global variable named according to the naming convention.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/store_info_in_cache.png" alt="Store data in the cache" class="fr-dib fr-bordered" style="width: 868px;"></p><h2>Available steps</h2><p>The global variable steps are designed to work with arrays of values for easy accessibility and manipulation.</p><p>These are optional parameters you may find useful:</p><ul><li>Add the <strong>DO_NOT_RETURN_VALUE</strong> optional parameter for the <strong>Set a variable</strong> and <strong>Append to a variable</strong> steps to avoid getting the value of the variable in the step response to speed up the execution.</li><li>Use the <strong>EXPIRES_IN</strong> optional parameter to set an expiration period when creating or modifying a variable. An expiration period can be set for a variable when updating it or appending to it, even if it was not set when the variable was created.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Set_a_variable_optional_parameters.png" alt="Set a variable optional parameters" class="fr-dib fr-bordered"></li></ul><h2>Set a variable</h2><p>Creates or updates a variable (key-value pair) that can be used in any workflow execution on the account where the variable was created. The variable value can contain strings (text enclosed in double quotes), numbers (no quotes), arrays, and JSON objects (for example, "{"key": "value","id": 1}"). The maximum size of the value is 1 MB.</p><p>You can set the variable to expire (be deleted) at the end of a specified period, for example, 2h45m10s. The expiration period, if set, can't be removed, but it can be reset when updating or appending to the variable.</p><h2>Append to a variable</h2><p>Appends the specified value to the value of an existing variable. The maximum size of the value is 1 MB.</p><p>You can set or reset the variable expiration period (for example, set the variable to expire in 2h45m10s).</p><section class="infoBox"><div class="title">Flatten the array</div><div class="content">Each appended item is added as a new object in the array. To flatten the array you can add the items to the array one by one, or use the <strong>Concat Arrays</strong> utility step.</div></section><h2>Get a variable</h2><p>Retrieve the value of a specific variable.</p><p>The <strong>value_array</strong> output field can contain an array of values, whereas the <strong>value&nbsp;</strong>output field can only contain a single value (available for backward compatibility). For array variables, the <strong>value</strong> output will only get the first member of the array.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/Get_a_var_value.png" alt="Get a variable step output" class="fr-dib fr-bordered"></p><h2>List variables</h2><p>Get a list of all variables on the account.</p><h2>Delete a variable</h2><p>Permanently deletes the provided variable. It cannot be undone and might create a breaking change if the variable is used in published workflows.</p>
