<!-- ## Metadata_Start
## title: Collect loop results
## original-url : https://learn.torq.io/docs/collect-loop-results
## article-id : e31384bf-d4e7-4331-8a68-a9759bc75f73
## seo-title : Collect loop results in Torq automated security workflows
## description : Gather loop results in a single array with the Collect operator in Torq automated security workflows. This simplifies using the results in subsequent steps.
## category-type : html
## Metadata_End -->
<p>The Collect operator enables you to gather the results of a loop's iterations into a single array. This simplifies referencing the results in subsequent steps.</p><section class="warningBox"><div class="title"><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1674635619327.png" class="fr-fic fr-fil fr-dii" style="width: 50px;">Important notes</div><div class="content"><ul><li>The Collect operator can only be placed and used within a loop.</li><li>Each loop execution clears the results array so that only the results of the current execution are collected. In order to collect all results in a single array, you should use additional <strong>Collect&nbsp;</strong>operators in the parent loop.</li></ul></div></section><h2>Flatten results</h2><p>Flatten results is an optional parameter in the <strong>Collect</strong> operator. Set the <strong>Flatten Results</strong> toggle to <strong>Yes</strong> to merge the inputs (iteration results) into a single array. This can be useful for paginated results. By default, every iteration result will create a new item in the loop results array.</p><h2>How to use</h2><ol><li>Add a <strong>Loop</strong> operator to the designer.</li><li>Hover over the <strong>Loop</strong> operator in the <strong>Steps Library</strong> to expose the <strong>Collect</strong> operator.</li><li>Add the <strong>Collect</strong> operator within the <strong>Loop</strong>.</li><li>In the <strong>Input</strong> field, specify the path to the data to collect for each iteration.<br>For example, use <span style="background-color: rgb(239, 239, 239); color: rgb(255, 0, 0);">$.ask_a_question.slack_response</span> to collect all user responses.<p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/collect-operator.png" alt="Access and use the Collect operator within a loop." class="fr-dib fr-bordered" style="width: 1423px;"></p></li><li>(Optional) Use as many <strong>Collect</strong> operators as needed in the same loop to create different sets (arrays) of loop results. In the below example, a second <strong>Collect</strong> operator is used to gather only the email addresses of the users who declined the request. The path to the user email is $.loop_value.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/multiple-collect-operators.png" alt="How to use multiple collect operators in a single loop." class="fr-dib fr-bordered" style="width: 1423px;"></li></ol>
