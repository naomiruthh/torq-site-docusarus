<!-- ## Metadata_Start
## title: Run steps in parallel
## original-url : https://learn.torq.io/docs/run-steps-in-parallel
## article-id : c304a3a3-c3cb-4cbe-89e7-575475977783
## seo-title : Run steps in parallel in Torq automated security workflows
## description : Run steps in parallel to run processes concurrently and reduce workflow execution time as part of your automated security workflows.
## category-type : html
## Metadata_End -->
<p>Security operations require running multiple processes at the same time.&nbsp;</p><p>For example, when investigating an incident, you'll want to enrich indicators using multiple vendors at the same time.&nbsp;</p><h2>How to run steps in parallel</h2><p>Drag a step and drop it over another step to create a parallel branch. A branch can consist of a single step or an entire log pattern (set of steps).</p><p>The parallel branches are executed concurrently (at the same time) during the workflow run.</p><p>The execution of all parallel branches has to complete for the workflow to continue.</p><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/parallel-steps.gif" alt="How to run steps in parallel" class="fr-dib fr-bordered" style="width: 1341px;"></p><h2>Enrich a suspicious IP address (example)</h2><p>Instead of sending indicators to a single threat intel vendor at a time and waiting for the results before continuing the workflow, you can run parallel enrichments.&nbsp;</p><p>Running steps concurrently will reduce total execution time, which will vary depending on whatever the "slowest" step is.</p><h3>Create parallel branches</h3><p>Drag a step and drop it on the step you want to run in parallel. You can create as many branches as needed.</p><h3><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/create-parallel-branch.png" alt="Dropping a step on another one to create a parallel branch." class="fr-dib fr-bordered" style="width: 1354px;">Get information during the parallel execution</h3><p>A Slack message <meta charset="utf-8"><span style="color: rgb(34, 34, 34); font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">that summarizes</span> the information received from a vendor is sent <meta charset="utf-8"><span style="color: rgb(34, 34, 34); font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">immediately</span> after the vendor data is returned. You will get Slack messages as the information from the vendors becomes available, in an unknown order.</p><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/parallel-steps-create-branch.png" alt="Slack message with data from parallel execution." class="fr-dib fr-bordered" style="width: 1360px;"></p><h3>Access output of the parallel branches</h3><p>The steps following the parallel branches will be executed only after all branches finish executing.&nbsp;</p><p>All subsequent steps in the workflow can access the output from the parallel branches.</p><p>In this example, the <strong>Exit</strong> step provides a summary of the information received from all threat intel vendors.</p><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/parallel-branches-exit.png" alt="Accessing output from the parallel branches in a later step" class="fr-dib fr-bordered" style="width: 1360px;"></p><h2>Important to know</h2><ul><li>When a step executed in a parallel branch fails, the workflow will fail. If you want to ignore the failure of a branch, set the <strong>Ignore failure</strong> option to <strong>Yes</strong>.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/ignore-failure.png" alt="Step execution configuration option to ignore failure." class="fr-dib fr-bordered"></li><li>When a loop contains parallel branches, you can't use a <strong>Break</strong> operator. The <strong>Break</strong> operator should only be used in the same branch as the loop it's being used for.</li></ul>
