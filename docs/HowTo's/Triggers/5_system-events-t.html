<!-- ## Metadata_Start
## title: System Events trigger
## original-url : https://learn.torq.io/docs/system-events-trigger
## article-id : 70302115-2898-4dfa-90b0-d71bde46aa06
## seo-title : How to use System Events to automatically trigger Torq workflows
## description : Automate remediation and workflow publication with Torq's System Event triggers and automate your security processes
## category-type : html
## Metadata_End -->
<p>System Events are internal Torq events, triggered by changes and operations from within your Torq workspace. If a workflow or step fails, or a user requests a review of their work, that event will trigger the start of a workflow created with any of the following triggers. You can build specific logic and conditions to limit the trigger scope or create global logic by leaving the trigger as is and running your workflow on every event. &nbsp;</p><p><meta charset="utf-8"></p><h2>Request for review</h2><p>Trigger a workflow upon a user requesting a review of a created or changed workflow. The workflow will be triggered upon any request for review within your workspace, or you can specify workflows or users by using conditions.&nbsp;</p><ol><li>Click <strong>Create workflow &gt; System events &gt; Request for review</strong>.<strong><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/request%20review%20trigger.gif" alt="request review trigger" class="fr-dib fr-bordered" style="width: 800px;"></strong></li><li>If you want global monitoring logic that runs upon any review request, leave the trigger as is and build your workflow using whatever logic best suits you (chatbot notification, nested workflows, etc.)&nbsp;</li><li>If you have a more specific use case, click on the trigger and click <strong>Add condition</strong>.</li><li>Build the appropriate conditions for your workflow using event context conditions, including:</li></ol><table style="width: 100%;"><thead><tr><th style="text-align: center;">Event context</th><th style="text-align: center;">Definition</th></tr></thead><tbody><tr><td style="width: 50.0000%;">{{ $.event.created_at }}</td><td style="width: 50.0000%;">The timestamp when the review was requested.<p>format: "date-time"</p><p>example: "\"2020-01-01T00:00:00Z\""</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.description }}</td><td style="width: 50.0000%;">The workflow description.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.requested_reviewers }}</td><td style="width: 50.0000%;">The reviewers requested.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.tags }}</td><td style="width: 50.0000%;">The tags on the workflow.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.time_saved }}</td><td style="width: 50.0000%;">The time saved in the Timeback parameter.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.url }}</td><td style="width: 50.0000%;">The URL of the workflow.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_id }}</td><td style="width: 50.0000%;">The ID of the workflow whose review request you would like to trigger this system workflow.<br></td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_name }}</td><td style="width: 50.0000%;">The name of the workflow whose failure you would like to trigger this system workflow. Note that this condition will not automatically adjust if the name is changed.<br></td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_revision_id }}</td><td style="width: 50.0000%;">The unique identifier of the executed workflow revision.<br></td></tr></tbody></table><p><br></p><h2>Workflow failure</h2><p>Trigger a failure alert system upon any workflow within your workspace failing, or use conditions for a specific workflow to make a failure alert. Use tags, workflow ID, workflow creator, or many other conditions to specify workflows.&nbsp;</p><ol><li>Click <strong>Create workflow &gt; System events &gt; Workflow failure</strong>.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/workflow%20failure.gif" alt="workflow failure" class="fr-dib fr-bordered" style="width: 800px;"></li><li>If you want global monitoring logic that runs upon any workflow failure, leave the trigger as is and build your workflow using whatever logic best suits you (chatbot notification, nested workflows, etc.)&nbsp;</li><li>If you have a more specific use case, click on the trigger and click <strong>Add condition</strong>.</li><li>Build the appropriate conditions for your workflow using event context conditions, including:</li></ol><table style="width: 100%;"><thead><tr><th style="text-align: center;">Event context</th><th style="text-align: center;">Definition&nbsp;</th></tr></thead><tbody><tr><td style="width: 50.0000%;">{{ $.event.output }}</td><td style="width: 50.0000%;">The output the workflow generated.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.revision_id }}</td><td style="width: 50.0000%;">The unique identifier of the executed workflow revision.<br></td></tr><tr><td style="width: 50.0000%;">{{ $.event.started_at }}</td><td style="width: 50.0000%;">The timestamp when the workflow failed.<p>format: "date-time"</p><p>example: "\"2020-01-01T00:00:00Z\""</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.status }}</td><td style="width: 50.0000%;">The status code of the workflow failure.&nbsp;</td></tr><tr><td style="width: 50.0000%;">{{ $.event.updated_at }}</td><td style="width: 50.0000%;">The timestamp when the workflow was last updated.<p>format: "date-time"</p><p>example: "\"2020-01-01T00:00:00Z\""</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_id }}</td><td style="width: 50.0000%;">The ID of the workflow whose review request you would like to trigger this system workflow.<br></td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_name }}<br></td><td style="width: 50.0000%;">The name of the workflow whose failure you would like to trigger this system workflow. Note that this condition will not automatically adjust if the name is changed.<br></td></tr></tbody></table><p><br></p><h2>Step failure</h2><p>Trigger a workflow upon <strong>any</strong> step failure within your workspace. If you want to trigger only for certain step failures, you can use conditions to specify a step by using the step name, type, or other conditions, such as the workflow name the step is in. &nbsp;</p><ol><li>Click <strong>Create workflow &gt; System events &gt; Step failure</strong>.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/step%20failure%20trigger.gif" alt="step failure trigger" class="fr-dib fr-bordered" style="width: 800px;"></li><li>If you want global monitoring logic that runs upon any step failure, leave the trigger as is and build your workflow using whatever logic best suits you (chatbot notification, nested workflows, etc.)&nbsp;</li><li>If you have a more specific use case, click on the trigger and click <strong>Add condition</strong>.&nbsp;</li><li>Build the appropriate conditions for your workflow using event context conditions, including:</li></ol><table style="width: 100%;"><thead><tr><th style="text-align: center;">Event context</th><th style="text-align: center;">Description</th></tr></thead><tbody><tr><td style="width: 50%; text-align: left; vertical-align: middle;"><p>{{ $.event.ended_at }}</p></td><td style="width: 50.0000%;">The timestamp when the <strong>step&nbsp;</strong>execution ended.<p>format: "date-time"</p><p>example: "\"2020-01-01T00:00:00Z\""</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.execution_id }}</td><td style="width: 50.0000%;"><p>The unique identifier of the workflow execution.</p><p>&nbsp;example: "\"74e19393-3e94-48d2-8b60-26f2d2665942\""<br>format: "uuid"</p></td></tr><tr><td style="width: 50.0000%;"><p>{{ $.event.execution_pretty_id }}</p></td><td style="width: 50.0000%;">The unique identifier of the workflow execution in an easier-to-read, user-friendly format.<br>example: "\"AB-150488\""</td></tr><tr><td style="width: 50.0000%;">{{ $.event.ignore_failure }}</td><td style="width: 50.0000%;"><p>The setting of the `Ignore failure` toggle in the step `Execution Options`. If set to Yes, the workflow will continue to run and may finish successfully even if this step fails.</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.started_at }}</td><td style="width: 50.0000%;">The timestamp when the <strong>step&nbsp;</strong>execution started.<p>format: "date-time"</p><p>example: "\"2020-01-01T00:00:00Z\""</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_execution_id }}</td><td style="width: 50.0000%;">The unique identifier of the step execution.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_image }}</td><td style="width: 50.0000%;"><p>The executed step image version that runs in the container. This field only applies to container-type steps and will be empty for <a href="/v1/docs/operators" rel="nofollow noopener noreferrer" target="_blank" translate="no">operators</a>.</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_name }}</td><td style="width: 50.0000%;">The display name of the step whose failure you want to trigger the workflow.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_runner.name }}</td><td style="width: 50.0000%;"><p>Information about the <a href="/v1/docs/step-runners" rel="nofollow noopener noreferrer" target="_blank" translate="no">step runner</a>. Only applicable for container-type steps (not operators) using a self-hosted runner. This field will be empty if the step is an operator or the Torq runner executes it.</p></td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_status.code }}</td><td style="width: 50.0000%;">The status of the step execution.<br>example: "{\"code\": 9, \"message\": \"Internal error.\", \"verbose\": \"Contact support.\"}"</td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_type }}</td><td style="width: 50.0000%;">The type of the executed step. The type for API-based and utility steps is CONTAINER. For operators, the step type will include the operator name.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.step_uuid }}</td><td style="width: 50.0000%;">The step ID. You can access any step's ID by opening the step's YAML. This identifier will remain constant across the executions of the specific workflow, while the step name may change. The UUID will be different for the same step in the context of a different workflow.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_id }}</td><td style="width: 50.0000%;">The ID of the workflow whose failure you would like to trigger this system workflow.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_name }}</td><td style="width: 50.0000%;">The name of the workflow whose failure you would like to trigger this system workflow. Note that this condition will not automatically adjust if the name is changed.</td></tr><tr><td style="width: 50.0000%;">{{ $.event.workflow_revision_id }}</td><td style="width: 50.0000%;">The unique identifier of the executed workflow revision.</td></tr></tbody></table><p><br></p><p><br></p><p><br></p>
