<!-- ## Metadata_Start
## title: Trigger a workflow with a file
## original-url : https://learn.torq.io/docs/trigger-a-workflow-with-a-file
## article-id : 84bd7351-821b-4ce4-9df2-947da778dce1
## seo-title : Trigger a Torq automated security workflow with a file
## description : Trigger Torq automated security workflows and nested workflows using a local file. Access the file contents in subsequent steps.
## category-type : html
## Metadata_End -->
<p>When using an on-demand trigger, you can create a File field, which accepts files for input. Any file you upload will be accessible only in Torq steps by using a <a href="/v1/docs/use-files-in-a-workflow#important-to-know" rel="nofollow" translate="no">non-shareable link</a> that will be available in the trigger event. The user executing the workflow will be required to upload a file when running the workflow from Torq or when using the trigger form URL. You can also easily trigger a <a href="/v1/docs/trigger-a-workflow-with-a-file#trigger-a-nested-workflow-with-a-file" rel="nofollow" translate="no">nested workflow using a file</a>.</p><section class="warningBox"><div class="title"><meta charset="utf-8"><span style="color: rgb(73, 61, 95); font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;"></span>Important</div><div class="content">Only users' locally stored files can be uploaded to the file field.</div></section><h2>How to use</h2><ol><li>Create a new workflow with an <strong>On-Demand</strong> trigger or use one that already exists.</li><li>Add a trigger input parameter.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-add-parameter.png" alt="Screenshot of adding the file parameter to the on-demand trigger." class="fr-dib fr-bordered"></li><li>Select the <strong>File</strong> type and give the parameter a name. Specify whether the file is required or optional.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-configure-parameter.png" alt="Screenshot showing how to configure the file parameter." class="fr-dib fr-bordered"></li><li>Add at least one step to your workflow and click <strong>Test Run</strong>.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-test-run.png" alt="Screenshot of doing a test run for the workflow to test uploading a file." class="fr-dib fr-bordered"></li><li>Upload a file to use during the workflow execution.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-add-file-execution.png" alt="Screenshot of uploading a file when prompted by the workflow.\" class="fr-dib fr-bordered"></li><li>The file link is available in the trigger event. The link is non-shareable and can only be used in Torq steps.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-file-link.png" alt="Screenshot of accessing the file link." class="fr-dib fr-bordered"></li><li>Use the file in the workflow steps. The file link is available at {{ $.event.&lt;file parameter name&gt; }}. To get the file content, use: {{ file $.event.&lt;file parameter name&gt; }}. The file inline function is required when accessing the file content since the <a href="/v1/docs/use-files-in-a-workflow" rel="nofollow" translate="no">link is non-shareable</a>.<img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-use-file-in-steps.png" alt="Screenshot showing how to access and reference the file in subsequent steps." class="fr-dib fr-bordered"></li></ol><h2>Trigger a nested workflow with a file</h2><p>You can pass a file URL to a nested workflow that has a file type trigger parameter. The nested workflow can also return a file URL as an output.</p><section class="warningBox"><div class="title"><br class="Apple-interchange-newline"><meta charset="utf-8"><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1674726587319.png" class="fr-fic fr-fil fr-dii" style="box-sizing: border-box; vertical-align: top; border-style: none; cursor: pointer; padding: 0px 1px; position: relative; max-width: 100%; display: block; float: left; margin: 5px auto 5px 0px; font-family: Nunito, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: 0.48px; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(73, 61, 95); font-weight: 400; background-color: rgb(244, 237, 255); width: 40px;"><br class="Apple-interchange-newline">&nbsp;IMPORTANT</div><div class="content">Only <a href="/v1/docs/use-files-in-a-workflow" rel="nofollow" translate="no">non-shareable links</a> that have the format tqfile://steps/XXXXXXXXX can be passed as trigger parameters.</div></section><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/file-trigger-pass-to-nested.png" alt="Screenshot showing how to trigger a nested workflow with a file." class="fr-dib fr-bordered" style="width: 1301px;"></p>
