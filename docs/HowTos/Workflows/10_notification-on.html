<!-- ## Metadata_Start
## title: Get notification on failed workflows
## original-url : https://learn.torq.io/docs/notification-on-failed-workflows
## article-id : 4c39c849-d32a-4d2b-bf0b-764c15b7b231
## seo-title : Notify Torq users and external users when a workflow fails
## description : When a workflow fails, you need to quickly identify the issue and start fixing it. Send notifications via email, webhook, and Slack.
## category-type : html
## Metadata_End -->
<p>When a workflow fails, you need to quickly identify the issue and start fixing it. You have several options to receive a notification when a workflow fails.</p><ul><li><a href="/v1/docs/notification-on-failed-workflows#email-and-webhook" rel="nofollow" translate="no">Email</a></li><li><a href="/v1/docs/notification-on-failed-workflows#email-and-webhook" rel="nofollow" translate="no">Webhook</a></li><li><a href="/v1/docs/notification-on-failed-workflows#slack-message" rel="nofollow" translate="no">Slack message</a></li></ul><section class="infoBox"><div class="title">üóíÔ∏è Important notes</div><div class="content"><ul><li>Workflow failure notifications are on the workflow level. This means you must set the notification method and recipients for each workflow.</li><li>Only published workflows will generate a failure notification.</li></ul></div></section><h2>Set up notifications</h2><ol><li>Go to the <strong>Workflows</strong> page.</li><li>Click the three-dot menu button.</li><li>Select <strong>Manage notifications</strong>.</li></ol><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1671111696623.png" class="fr-fic fr-dib fr-bordered" alt="Manage notifications for a failed workflow" style="width: 1190px;"></p><h2>Email and webhook</h2><p>Set the email address list and webhooks in the manage notification window.&nbsp;</p><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1671177882994.png" class="fr-fic fr-dib fr-bordered" alt="Set email list and webhook to notify on failed workflow"></p><h3>Email</h3><p>Both organizational and external email addresses are supported. The email notification includes information about the execution failure:</p><ul><li>Account name (tenant)</li><li>Workflow name</li><li>The entity that triggered the workflow</li><li>Event ID</li><li>Date and time the workflow failed</li><li>Step on which the workflow failed</li></ul><p><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1671178123776.png" class="fr-fic fr-dib fr-bordered" alt="Failed workflow email notification"></p><h3>Webhook</h3><p>A JSON event containing the failure information is sent to all webhooks listed in the manage notifications window for a given workflow.</p><p>Torq webhooks and external webhooks are supported. Be sure to use authentication headers as needed.</p><pre><code class="language-json" data-code-id="section-1671178486336" data-language="json">{
  "account_name": "acme-prod",
  "description": "env: environment variable \\\"RECIPIENT\\\" should not be empty",
  "error": "failed parsing environment variables",
  "execution_id": "0839a47c-338b-43cb-85e8-6b0d12e8fa27",
  "failed_step_name": "ask_a_question",
  "timestamp": "Tuesday, 14-Jun-22 09:46:07 UTC",
  "triggered_by": "Scheduled Event - e1a24a77-63b1-43e0-85e8-bb64cfe0b12e",
  "workflow_id": "05ca53bc-429d-48a9-85e8-0b7cc8b386ce",
  "workflow_name": "workflow_name"
}</code></pre><h3>Workflow execution failure as a trigger</h3><p>You can set the workflow execution failure to trigger a Torq workflow to implement an automatic response.</p><ol><li><a href="/v1/docs/webhook" rel="nofollow" translate="no">Create a webhook integration</a>.</li><li>Copy the endpoint of your webhook integration and add it to the <strong>Webhooks</strong> list in the <strong>Manage notifications</strong> window for a workflow.</li><li>Create a new workflow and set the webhook integration you created in step 1 as the trigger. The execution failure information is available in the workflow by using <span style="background-color: rgb(239, 239, 239); color: rgb(255, 0, 0);">$.event.body</span>.</li><li>Publish the workflow.</li></ol><h2>Slack message</h2><p>You can send DMs and messages to channels by sending emails to <a href="https://slack.com/help/articles/206819278-Send-emails-to-Slack" rel="nofollow noopener noreferrer" target="_blank" translate="no">Slack integration email addresses</a>.</p><p>To attach an email address to a DM or channel, follow these steps in Slack.</p><ol><li>Right-click the DM or channel you want to message and select <strong>View conversation details&nbsp;</strong>or <strong>View channel details</strong>.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1671179560116.png" class="fr-fic fr-dib fr-bordered" alt="View conversation or channel details in Slack."></li><li>Go to the <strong>Integrations</strong> tab.</li><li>Click <strong>Send emails to this channel</strong> or<strong>&nbsp;Send emails to this conversation</strong>.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/2023-01-24_14-56-39.png" class="fr-fic fr-dib fr-bordered" alt="Slack message notification for a failed workflow."></li><li>Copy the email address.</li><li>In Torq, add the email address to the <strong>Emails</strong> list in a workflow's <strong>Manage notifications</strong>.</li></ol><p>The Slack message will include information about the execution failure.<br><img src="https://cdn.document360.io/e159bc51-b5b1-4b1f-af39-a9db2fa968d6/Images/Documentation/image-1671179401926.png" class="fr-fic fr-dib fr-bordered" alt="Slack message notification for a failed workflow."></p><p><br></p>
